!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);function i(t,e,r,i){if(isNaN(e)||isNaN(r))return t;var n,s,h,o,a,l,u,d,f,c=t._root,_={data:i},y=t._x0,x=t._y0,p=t._x1,v=t._y1;if(!c)return t._root=_,t;for(;c.length;)if((l=e>=(s=(y+p)/2))?y=s:p=s,(u=r>=(h=(x+v)/2))?x=h:v=h,n=c,!(c=c[d=u<<1|l]))return n[d]=_,t;if(o=+t._x.call(null,c.data),a=+t._y.call(null,c.data),e===o&&r===a)return _.next=c,n?n[d]=_:t._root=_,t;do{n=n?n[d]=new Array(4):t._root=new Array(4),(l=e>=(s=(y+p)/2))?y=s:p=s,(u=r>=(h=(x+v)/2))?x=h:v=h}while((d=u<<1|l)==(f=(a>=h)<<1|o>=s));return n[f]=c,n[d]=_,t}var n=function(t,e,r,i,n){this.node=t,this.x0=e,this.y0=r,this.x1=i,this.y1=n};function s(t){return t[0]}function h(t){return t[1]}function o(t,e,r){var i=new a(null==e?s:e,null==r?h:r,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function a(t,e,r,i,n,s){this._x=t,this._y=e,this._x0=r,this._y0=i,this._x1=n,this._y1=s,this._root=void 0}function l(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var u=o.prototype=a.prototype;u.copy=function(){var t,e,r=new a(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return r;if(!i.length)return r._root=l(i),r;for(t=[{source:i,target:r._root=new Array(4)}];i=t.pop();)for(var n=0;n<4;++n)(e=i.source[n])&&(e.length?t.push({source:e,target:i.target[n]=new Array(4)}):i.target[n]=l(e));return r},u.add=function(t){var e=+this._x.call(null,t),r=+this._y.call(null,t);return i(this.cover(e,r),e,r,t)},u.addAll=function(t){var e,r,n,s,h=t.length,o=new Array(h),a=new Array(h),l=1/0,u=1/0,d=-1/0,f=-1/0;for(r=0;r<h;++r)isNaN(n=+this._x.call(null,e=t[r]))||isNaN(s=+this._y.call(null,e))||(o[r]=n,a[r]=s,n<l&&(l=n),n>d&&(d=n),s<u&&(u=s),s>f&&(f=s));if(l>d||u>f)return this;for(this.cover(l,u).cover(d,f),r=0;r<h;++r)i(this,o[r],a[r],t[r]);return this},u.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,n=this._x1,s=this._y1;if(isNaN(r))n=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1;else{for(var h,o,a=n-r,l=this._root;r>t||t>=n||i>e||e>=s;)switch(o=(e<i)<<1|t<r,(h=new Array(4))[o]=l,l=h,a*=2,o){case 0:n=r+a,s=i+a;break;case 1:r=n-a,s=i+a;break;case 2:n=r+a,i=s-a;break;case 3:r=n-a,i=s-a}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=n,this._y1=s,this},u.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},u.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},u.find=function(t,e,r){var i,s,h,o,a,l,u,d=this._x0,f=this._y0,c=this._x1,_=this._y1,y=[],x=this._root;for(x&&y.push(new n(x,d,f,c,_)),null==r?r=1/0:(d=t-r,f=e-r,c=t+r,_=e+r,r*=r);l=y.pop();)if(!(!(x=l.node)||(s=l.x0)>c||(h=l.y0)>_||(o=l.x1)<d||(a=l.y1)<f))if(x.length){var p=(s+o)/2,v=(h+a)/2;y.push(new n(x[3],p,v,o,a),new n(x[2],s,v,p,a),new n(x[1],p,h,o,v),new n(x[0],s,h,p,v)),(u=(e>=v)<<1|t>=p)&&(l=y[y.length-1],y[y.length-1]=y[y.length-1-u],y[y.length-1-u]=l)}else{var g=t-+this._x.call(null,x.data),N=e-+this._y.call(null,x.data),w=g*g+N*N;if(w<r){var m=Math.sqrt(r=w);d=t-m,f=e-m,c=t+m,_=e+m,i=x.data}}return i},u.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,r,i,n,s,h,o,a,l,u,d,f,c=this._root,_=this._x0,y=this._y0,x=this._x1,p=this._y1;if(!c)return this;if(c.length)for(;;){if((l=s>=(o=(_+x)/2))?_=o:x=o,(u=h>=(a=(y+p)/2))?y=a:p=a,e=c,!(c=c[d=u<<1|l]))return this;if(!c.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(r=e,f=d)}for(;c.data!==t;)if(i=c,!(c=c.next))return this;return(n=c.next)&&delete c.next,i?(n?i.next=n:delete i.next,this):e?(n?e[d]=n:delete e[d],(c=e[0]||e[1]||e[2]||e[3])&&c===(e[3]||e[2]||e[1]||e[0])&&!c.length&&(r?r[f]=c:this._root=c),this):(this._root=n,this)},u.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},u.root=function(){return this._root},u.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},u.visit=function(t){var e,r,i,s,h,o,a=[],l=this._root;for(l&&a.push(new n(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,s=e.y0,h=e.x1,o=e.y1)&&l.length){var u=(i+h)/2,d=(s+o)/2;(r=l[3])&&a.push(new n(r,u,d,h,o)),(r=l[2])&&a.push(new n(r,i,d,u,o)),(r=l[1])&&a.push(new n(r,u,s,h,d)),(r=l[0])&&a.push(new n(r,i,s,u,d))}return this},u.visitAfter=function(t){var e,r=[],i=[];for(this._root&&r.push(new n(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var s=e.node;if(s.length){var h,o=e.x0,a=e.y0,l=e.x1,u=e.y1,d=(o+l)/2,f=(a+u)/2;(h=s[0])&&r.push(new n(h,o,a,d,f)),(h=s[1])&&r.push(new n(h,d,a,l,f)),(h=s[2])&&r.push(new n(h,o,f,d,u)),(h=s[3])&&r.push(new n(h,d,f,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},u.x=function(t){return arguments.length?(this._x=t,this):this._x},u.y=function(t){return arguments.length?(this._y=t,this):this._y};var d=document.getElementById("app").getContext("2d");class f{constructor(t,e,r=null){this.x=t,this.y=e,this.parent=r,this.children=[],this.parent&&this.parent.children.push(this)}render(){this.parent&&(d.moveTo(this.parent.x,this.parent.y),d.lineWidth=.5,d.lineTo(this.x,this.y),d.stroke()),d.beginPath(),d.arc(this.x,this.y,2,0,2*Math.PI),d.fill()}}class c{constructor(t,e,r,i){this.quadTree=o(),this.quadTree=this.quadTree.x(t=>t.x),this.quadTree=this.quadTree.y(t=>t.y),this.quadTree.extent([0,0],r),this.validArea=r,this.maxEdgeLength=i,this.startNode=new f(t[0],t[1]),this.goalNode=new f(e[0],e[1]),this.nodes=[this.startNode,this.goalNode],this.quadTree.addAll([this.startNode,this.goalNode]),this.dirtyNodes=[this.startNode,this.goalNode]}sampleLocation(){return Math.random()<.1?[this.goalNode.x,this.goalNode.y]:[this.validArea[0]*(.98*Math.random()+.01),this.validArea[1]*(.98*Math.random()+.01)]}extend(t,e){let r=this.quadTree.find(t,e);const i=Math.sqrt(Math.pow(t-r.x,2)+Math.pow(e-r.y,2));if(i<.01){t=r.x,e=r.y;const i=r;this.quadTree.remove(i),r=this.quadTree.find(t,e),this.quadTree.add(i)}i>this.maxEdgeLength&&(t=r.x+this.maxEdgeLength/i*(t-r.x),e=r.y+this.maxEdgeLength/i*(e-r.y));const n=new f(t,e,r);return this.nodes.push(n),this.quadTree.add(n),this.dirtyNodes.push(n),n}render(){for(let t=0;t<this.dirtyNodes.length;t++)this.dirtyNodes[t].render();this.dirtyNodes=[]}}(()=>{const[t,e]=[50,d.canvas.height-100],[r,i]=[d.canvas.width-50,100],n={rrt:new c([t,e],[r,i],[d.canvas.width,d.canvas.height],100),numNodes:0};d.fillStyle="#f6f8f9",d.fillRect(0,0,d.canvas.width,d.canvas.height),d.font="20px Arial",d.fillStyle="red",d.beginPath(),d.arc(t,e,10,0,2*Math.PI),d.fill(),d.fillText("Start",t-20,e+30),d.fillStyle="green",d.beginPath(),d.arc(r,i,10,0,2*Math.PI),d.fill(),d.fillText("Goal",r-20,i-18),d.fillStyle="black",window.setInterval(()=>(t=>{t.numNodes<1e3&&((t=>{const e=t.rrt,[r,i]=e.sampleLocation();e.extend(r,i),t.numNodes+=1})(t),(t=>{t.rrt.render()})(t))})(n),30)})()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9hZGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9jb3Zlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMveS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3F1YWR0cmVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvZGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL2V4dGVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL2ZpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9yZW1vdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9yb290LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvc2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3Zpc2l0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvdmlzaXRBZnRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ0cmVlIiwieCIsInkiLCJpc05hTiIsInBhcmVudCIsInhtIiwieW0iLCJ4cCIsInlwIiwicmlnaHQiLCJib3R0b20iLCJqIiwibm9kZSIsIl9yb290IiwibGVhZiIsImRhdGEiLCJ4MCIsIl94MCIsInkwIiwiX3kwIiwieDEiLCJfeDEiLCJ5MSIsIl95MSIsImxlbmd0aCIsIl94IiwiX3kiLCJuZXh0IiwiQXJyYXkiLCJ0aGlzIiwiZGVmYXVsdFgiLCJkZWZhdWx0WSIsInF1YWR0cmVlIiwibm9kZXMiLCJRdWFkdHJlZSIsIk5hTiIsImFkZEFsbCIsInVuZGVmaW5lZCIsImxlYWZfY29weSIsImNvcHkiLCJ0cmVlUHJvdG8iLCJjaGlsZCIsInNvdXJjZSIsInRhcmdldCIsInBvcCIsInB1c2giLCJhZGQiLCJjb3ZlciIsInh6IiwieXoiLCJJbmZpbml0eSIsIk1hdGgiLCJmbG9vciIsInoiLCJ2aXNpdCIsImV4dGVudCIsImFyZ3VtZW50cyIsIl8iLCJmaW5kIiwieDIiLCJ5MiIsInEiLCJ4MyIsInkzIiwicXVhZHMiLCJyYWRpdXMiLCJkeCIsImR5IiwiZDIiLCJzcXJ0IiwicmVtb3ZlIiwicmV0YWluZXIiLCJwcmV2aW91cyIsInJlbW92ZUFsbCIsInJvb3QiLCJzaXplIiwiY2FsbGJhY2siLCJ2aXNpdEFmdGVyIiwiY3R4IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJOb2RlIiwiY2hpbGRyZW4iLCJtb3ZlVG8iLCJsaW5lV2lkdGgiLCJsaW5lVG8iLCJzdHJva2UiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImZpbGwiLCJzdGFydE5vZGVQb3MiLCJnb2FsTm9kZVBvcyIsInZhbGlkQXJlYSIsIm1heEVkZ2VMZW5ndGgiLCJxdWFkVHJlZSIsInN0YXJ0Tm9kZSIsImdvYWxOb2RlIiwiZGlydHlOb2RlcyIsInJhbmRvbSIsImRpc3RUb05lYXJlc3ROb2RlIiwicG93Iiwib2xkUGFyZW50IiwibmV3Tm9kZSIsInJlbmRlciIsInN0YXJ0WCIsInN0YXJ0WSIsImNhbnZhcyIsImhlaWdodCIsImdvYWxYIiwiZ29hbFkiLCJ3aWR0aCIsIndvcmxkIiwicnJ0IiwibnVtTm9kZXMiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZvbnQiLCJmaWxsVGV4dCIsIndpbmRvdyIsInNldEludGVydmFsIiwic2FtcGxlTG9jYXRpb24iLCJleHRlbmQiLCJ1cGRhdGUiLCJzdGVwIiwiZ28iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVB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LEdBQUlDLEVBQVMsSUFFNUM3QixFQUFJc0MsVUFBWSxRQUNoQnRDLEVBQUlVLFlBQ0pWLEVBQUlXLElBQUlxQixFQUFPQyxFQUFPLEdBQUksRUFBRyxFQUFJNUQsS0FBS3VDLElBQ3RDWixFQUFJYSxPQUNKYixFQUFJeUMsU0FBUyxPQUFRVCxFQUFRLEdBQUlDLEVBQVEsSUFFekNqQyxFQUFJc0MsVUFBWSxRQUdoQkksT0FBT0MsWUFBWSxJQTVDUlIsS0FDUEEsRUFBTUUsU0FBVyxNQWRSRixLQUNiLE1BQU1DLEVBQU1ELEVBQU1DLEtBRVhqSCxFQUFHQyxHQUFLZ0gsRUFBSVEsaUJBQ25CUixFQUFJUyxPQUFPMUgsRUFBR0MsR0FFZCtHLEVBQU1FLFVBQVksR0FTaEJTLENBQU9YLEdBTklBLEtBQ2JBLEVBQU1DLElBQUlULFVBTVJBLENBQU9RLEtBeUNnQlksQ0FBS1osR0FBUSxLQUd4Q2EiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGQpIHtcbiAgdmFyIHggPSArdGhpcy5feC5jYWxsKG51bGwsIGQpLFxuICAgICAgeSA9ICt0aGlzLl95LmNhbGwobnVsbCwgZCk7XG4gIHJldHVybiBhZGQodGhpcy5jb3Zlcih4LCB5KSwgeCwgeSwgZCk7XG59XG5cbmZ1bmN0aW9uIGFkZCh0cmVlLCB4LCB5LCBkKSB7XG4gIGlmIChpc05hTih4KSB8fCBpc05hTih5KSkgcmV0dXJuIHRyZWU7IC8vIGlnbm9yZSBpbnZhbGlkIHBvaW50c1xuXG4gIHZhciBwYXJlbnQsXG4gICAgICBub2RlID0gdHJlZS5fcm9vdCxcbiAgICAgIGxlYWYgPSB7ZGF0YTogZH0sXG4gICAgICB4MCA9IHRyZWUuX3gwLFxuICAgICAgeTAgPSB0cmVlLl95MCxcbiAgICAgIHgxID0gdHJlZS5feDEsXG4gICAgICB5MSA9IHRyZWUuX3kxLFxuICAgICAgeG0sXG4gICAgICB5bSxcbiAgICAgIHhwLFxuICAgICAgeXAsXG4gICAgICByaWdodCxcbiAgICAgIGJvdHRvbSxcbiAgICAgIGksXG4gICAgICBqO1xuXG4gIC8vIElmIHRoZSB0cmVlIGlzIGVtcHR5LCBpbml0aWFsaXplIHRoZSByb290IGFzIGEgbGVhZi5cbiAgaWYgKCFub2RlKSByZXR1cm4gdHJlZS5fcm9vdCA9IGxlYWYsIHRyZWU7XG5cbiAgLy8gRmluZCB0aGUgZXhpc3RpbmcgbGVhZiBmb3IgdGhlIG5ldyBwb2ludCwgb3IgYWRkIGl0LlxuICB3aGlsZSAobm9kZS5sZW5ndGgpIHtcbiAgICBpZiAocmlnaHQgPSB4ID49ICh4bSA9ICh4MCArIHgxKSAvIDIpKSB4MCA9IHhtOyBlbHNlIHgxID0geG07XG4gICAgaWYgKGJvdHRvbSA9IHkgPj0gKHltID0gKHkwICsgeTEpIC8gMikpIHkwID0geW07IGVsc2UgeTEgPSB5bTtcbiAgICBpZiAocGFyZW50ID0gbm9kZSwgIShub2RlID0gbm9kZVtpID0gYm90dG9tIDw8IDEgfCByaWdodF0pKSByZXR1cm4gcGFyZW50W2ldID0gbGVhZiwgdHJlZTtcbiAgfVxuXG4gIC8vIElzIHRoZSBuZXcgcG9pbnQgaXMgZXhhY3RseSBjb2luY2lkZW50IHdpdGggdGhlIGV4aXN0aW5nIHBvaW50P1xuICB4cCA9ICt0cmVlLl94LmNhbGwobnVsbCwgbm9kZS5kYXRhKTtcbiAgeXAgPSArdHJlZS5feS5jYWxsKG51bGwsIG5vZGUuZGF0YSk7XG4gIGlmICh4ID09PSB4cCAmJiB5ID09PSB5cCkgcmV0dXJuIGxlYWYubmV4dCA9IG5vZGUsIHBhcmVudCA/IHBhcmVudFtpXSA9IGxlYWYgOiB0cmVlLl9yb290ID0gbGVhZiwgdHJlZTtcblxuICAvLyBPdGhlcndpc2UsIHNwbGl0IHRoZSBsZWFmIG5vZGUgdW50aWwgdGhlIG9sZCBhbmQgbmV3IHBvaW50IGFyZSBzZXBhcmF0ZWQuXG4gIGRvIHtcbiAgICBwYXJlbnQgPSBwYXJlbnQgPyBwYXJlbnRbaV0gPSBuZXcgQXJyYXkoNCkgOiB0cmVlLl9yb290ID0gbmV3IEFycmF5KDQpO1xuICAgIGlmIChyaWdodCA9IHggPj0gKHhtID0gKHgwICsgeDEpIC8gMikpIHgwID0geG07IGVsc2UgeDEgPSB4bTtcbiAgICBpZiAoYm90dG9tID0geSA+PSAoeW0gPSAoeTAgKyB5MSkgLyAyKSkgeTAgPSB5bTsgZWxzZSB5MSA9IHltO1xuICB9IHdoaWxlICgoaSA9IGJvdHRvbSA8PCAxIHwgcmlnaHQpID09PSAoaiA9ICh5cCA+PSB5bSkgPDwgMSB8ICh4cCA+PSB4bSkpKTtcbiAgcmV0dXJuIHBhcmVudFtqXSA9IG5vZGUsIHBhcmVudFtpXSA9IGxlYWYsIHRyZWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRBbGwoZGF0YSkge1xuICB2YXIgZCwgaSwgbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB4eiA9IG5ldyBBcnJheShuKSxcbiAgICAgIHl6ID0gbmV3IEFycmF5KG4pLFxuICAgICAgeDAgPSBJbmZpbml0eSxcbiAgICAgIHkwID0gSW5maW5pdHksXG4gICAgICB4MSA9IC1JbmZpbml0eSxcbiAgICAgIHkxID0gLUluZmluaXR5O1xuXG4gIC8vIENvbXB1dGUgdGhlIHBvaW50cyBhbmQgdGhlaXIgZXh0ZW50LlxuICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgaWYgKGlzTmFOKHggPSArdGhpcy5feC5jYWxsKG51bGwsIGQgPSBkYXRhW2ldKSkgfHwgaXNOYU4oeSA9ICt0aGlzLl95LmNhbGwobnVsbCwgZCkpKSBjb250aW51ZTtcbiAgICB4eltpXSA9IHg7XG4gICAgeXpbaV0gPSB5O1xuICAgIGlmICh4IDwgeDApIHgwID0geDtcbiAgICBpZiAoeCA+IHgxKSB4MSA9IHg7XG4gICAgaWYgKHkgPCB5MCkgeTAgPSB5O1xuICAgIGlmICh5ID4geTEpIHkxID0geTtcbiAgfVxuXG4gIC8vIElmIHRoZXJlIHdlcmUgbm8gKHZhbGlkKSBwb2ludHMsIGFib3J0LlxuICBpZiAoeDAgPiB4MSB8fCB5MCA+IHkxKSByZXR1cm4gdGhpcztcblxuICAvLyBFeHBhbmQgdGhlIHRyZWUgdG8gY292ZXIgdGhlIG5ldyBwb2ludHMuXG4gIHRoaXMuY292ZXIoeDAsIHkwKS5jb3Zlcih4MSwgeTEpO1xuXG4gIC8vIEFkZCB0aGUgbmV3IHBvaW50cy5cbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGFkZCh0aGlzLCB4eltpXSwgeXpbaV0sIGRhdGFbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih4LCB5KSB7XG4gIGlmIChpc05hTih4ID0gK3gpIHx8IGlzTmFOKHkgPSAreSkpIHJldHVybiB0aGlzOyAvLyBpZ25vcmUgaW52YWxpZCBwb2ludHNcblxuICB2YXIgeDAgPSB0aGlzLl94MCxcbiAgICAgIHkwID0gdGhpcy5feTAsXG4gICAgICB4MSA9IHRoaXMuX3gxLFxuICAgICAgeTEgPSB0aGlzLl95MTtcblxuICAvLyBJZiB0aGUgcXVhZHRyZWUgaGFzIG5vIGV4dGVudCwgaW5pdGlhbGl6ZSB0aGVtLlxuICAvLyBJbnRlZ2VyIGV4dGVudCBhcmUgbmVjZXNzYXJ5IHNvIHRoYXQgaWYgd2UgbGF0ZXIgZG91YmxlIHRoZSBleHRlbnQsXG4gIC8vIHRoZSBleGlzdGluZyBxdWFkcmFudCBib3VuZGFyaWVzIGRvbuKAmXQgY2hhbmdlIGR1ZSB0byBmbG9hdGluZyBwb2ludCBlcnJvciFcbiAgaWYgKGlzTmFOKHgwKSkge1xuICAgIHgxID0gKHgwID0gTWF0aC5mbG9vcih4KSkgKyAxO1xuICAgIHkxID0gKHkwID0gTWF0aC5mbG9vcih5KSkgKyAxO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCBkb3VibGUgcmVwZWF0ZWRseSB0byBjb3Zlci5cbiAgZWxzZSB7XG4gICAgdmFyIHogPSB4MSAtIHgwLFxuICAgICAgICBub2RlID0gdGhpcy5fcm9vdCxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBpO1xuXG4gICAgd2hpbGUgKHgwID4geCB8fCB4ID49IHgxIHx8IHkwID4geSB8fCB5ID49IHkxKSB7XG4gICAgICBpID0gKHkgPCB5MCkgPDwgMSB8ICh4IDwgeDApO1xuICAgICAgcGFyZW50ID0gbmV3IEFycmF5KDQpLCBwYXJlbnRbaV0gPSBub2RlLCBub2RlID0gcGFyZW50LCB6ICo9IDI7XG4gICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgY2FzZSAwOiB4MSA9IHgwICsgeiwgeTEgPSB5MCArIHo7IGJyZWFrO1xuICAgICAgICBjYXNlIDE6IHgwID0geDEgLSB6LCB5MSA9IHkwICsgejsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogeDEgPSB4MCArIHosIHkwID0geTEgLSB6OyBicmVhaztcbiAgICAgICAgY2FzZSAzOiB4MCA9IHgxIC0geiwgeTAgPSB5MSAtIHo7IGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9yb290ICYmIHRoaXMuX3Jvb3QubGVuZ3RoKSB0aGlzLl9yb290ID0gbm9kZTtcbiAgfVxuXG4gIHRoaXMuX3gwID0geDA7XG4gIHRoaXMuX3kwID0geTA7XG4gIHRoaXMuX3gxID0geDE7XG4gIHRoaXMuX3kxID0geTE7XG4gIHJldHVybiB0aGlzO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgdGhpcy5ub2RlID0gbm9kZTtcbiAgdGhpcy54MCA9IHgwO1xuICB0aGlzLnkwID0geTA7XG4gIHRoaXMueDEgPSB4MTtcbiAgdGhpcy55MSA9IHkxO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRYKGQpIHtcbiAgcmV0dXJuIGRbMF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKF8pIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodGhpcy5feCA9IF8sIHRoaXMpIDogdGhpcy5feDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0WShkKSB7XG4gIHJldHVybiBkWzFdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihfKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRoaXMuX3kgPSBfLCB0aGlzKSA6IHRoaXMuX3k7XG59XG4iLCJpbXBvcnQgdHJlZV9hZGQsIHthZGRBbGwgYXMgdHJlZV9hZGRBbGx9IGZyb20gXCIuL2FkZC5qc1wiO1xuaW1wb3J0IHRyZWVfY292ZXIgZnJvbSBcIi4vY292ZXIuanNcIjtcbmltcG9ydCB0cmVlX2RhdGEgZnJvbSBcIi4vZGF0YS5qc1wiO1xuaW1wb3J0IHRyZWVfZXh0ZW50IGZyb20gXCIuL2V4dGVudC5qc1wiO1xuaW1wb3J0IHRyZWVfZmluZCBmcm9tIFwiLi9maW5kLmpzXCI7XG5pbXBvcnQgdHJlZV9yZW1vdmUsIHtyZW1vdmVBbGwgYXMgdHJlZV9yZW1vdmVBbGx9IGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHRyZWVfcm9vdCBmcm9tIFwiLi9yb290LmpzXCI7XG5pbXBvcnQgdHJlZV9zaXplIGZyb20gXCIuL3NpemUuanNcIjtcbmltcG9ydCB0cmVlX3Zpc2l0IGZyb20gXCIuL3Zpc2l0LmpzXCI7XG5pbXBvcnQgdHJlZV92aXNpdEFmdGVyIGZyb20gXCIuL3Zpc2l0QWZ0ZXIuanNcIjtcbmltcG9ydCB0cmVlX3gsIHtkZWZhdWx0WH0gZnJvbSBcIi4veC5qc1wiO1xuaW1wb3J0IHRyZWVfeSwge2RlZmF1bHRZfSBmcm9tIFwiLi95LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YWR0cmVlKG5vZGVzLCB4LCB5KSB7XG4gIHZhciB0cmVlID0gbmV3IFF1YWR0cmVlKHggPT0gbnVsbCA/IGRlZmF1bHRYIDogeCwgeSA9PSBudWxsID8gZGVmYXVsdFkgOiB5LCBOYU4sIE5hTiwgTmFOLCBOYU4pO1xuICByZXR1cm4gbm9kZXMgPT0gbnVsbCA/IHRyZWUgOiB0cmVlLmFkZEFsbChub2Rlcyk7XG59XG5cbmZ1bmN0aW9uIFF1YWR0cmVlKHgsIHksIHgwLCB5MCwgeDEsIHkxKSB7XG4gIHRoaXMuX3ggPSB4O1xuICB0aGlzLl95ID0geTtcbiAgdGhpcy5feDAgPSB4MDtcbiAgdGhpcy5feTAgPSB5MDtcbiAgdGhpcy5feDEgPSB4MTtcbiAgdGhpcy5feTEgPSB5MTtcbiAgdGhpcy5fcm9vdCA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gbGVhZl9jb3B5KGxlYWYpIHtcbiAgdmFyIGNvcHkgPSB7ZGF0YTogbGVhZi5kYXRhfSwgbmV4dCA9IGNvcHk7XG4gIHdoaWxlIChsZWFmID0gbGVhZi5uZXh0KSBuZXh0ID0gbmV4dC5uZXh0ID0ge2RhdGE6IGxlYWYuZGF0YX07XG4gIHJldHVybiBjb3B5O1xufVxuXG52YXIgdHJlZVByb3RvID0gcXVhZHRyZWUucHJvdG90eXBlID0gUXVhZHRyZWUucHJvdG90eXBlO1xuXG50cmVlUHJvdG8uY29weSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29weSA9IG5ldyBRdWFkdHJlZSh0aGlzLl94LCB0aGlzLl95LCB0aGlzLl94MCwgdGhpcy5feTAsIHRoaXMuX3gxLCB0aGlzLl95MSksXG4gICAgICBub2RlID0gdGhpcy5fcm9vdCxcbiAgICAgIG5vZGVzLFxuICAgICAgY2hpbGQ7XG5cbiAgaWYgKCFub2RlKSByZXR1cm4gY29weTtcblxuICBpZiAoIW5vZGUubGVuZ3RoKSByZXR1cm4gY29weS5fcm9vdCA9IGxlYWZfY29weShub2RlKSwgY29weTtcblxuICBub2RlcyA9IFt7c291cmNlOiBub2RlLCB0YXJnZXQ6IGNvcHkuX3Jvb3QgPSBuZXcgQXJyYXkoNCl9XTtcbiAgd2hpbGUgKG5vZGUgPSBub2Rlcy5wb3AoKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlLnNvdXJjZVtpXSkge1xuICAgICAgICBpZiAoY2hpbGQubGVuZ3RoKSBub2Rlcy5wdXNoKHtzb3VyY2U6IGNoaWxkLCB0YXJnZXQ6IG5vZGUudGFyZ2V0W2ldID0gbmV3IEFycmF5KDQpfSk7XG4gICAgICAgIGVsc2Ugbm9kZS50YXJnZXRbaV0gPSBsZWFmX2NvcHkoY2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufTtcblxudHJlZVByb3RvLmFkZCA9IHRyZWVfYWRkO1xudHJlZVByb3RvLmFkZEFsbCA9IHRyZWVfYWRkQWxsO1xudHJlZVByb3RvLmNvdmVyID0gdHJlZV9jb3ZlcjtcbnRyZWVQcm90by5kYXRhID0gdHJlZV9kYXRhO1xudHJlZVByb3RvLmV4dGVudCA9IHRyZWVfZXh0ZW50O1xudHJlZVByb3RvLmZpbmQgPSB0cmVlX2ZpbmQ7XG50cmVlUHJvdG8ucmVtb3ZlID0gdHJlZV9yZW1vdmU7XG50cmVlUHJvdG8ucmVtb3ZlQWxsID0gdHJlZV9yZW1vdmVBbGw7XG50cmVlUHJvdG8ucm9vdCA9IHRyZWVfcm9vdDtcbnRyZWVQcm90by5zaXplID0gdHJlZV9zaXplO1xudHJlZVByb3RvLnZpc2l0ID0gdHJlZV92aXNpdDtcbnRyZWVQcm90by52aXNpdEFmdGVyID0gdHJlZV92aXNpdEFmdGVyO1xudHJlZVByb3RvLnggPSB0cmVlX3g7XG50cmVlUHJvdG8ueSA9IHRyZWVfeTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgZGF0YSA9IFtdO1xuICB0aGlzLnZpc2l0KGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUubGVuZ3RoKSBkbyBkYXRhLnB1c2gobm9kZS5kYXRhKTsgd2hpbGUgKG5vZGUgPSBub2RlLm5leHQpXG4gIH0pO1xuICByZXR1cm4gZGF0YTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKF8pIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5jb3ZlcigrX1swXVswXSwgK19bMF1bMV0pLmNvdmVyKCtfWzFdWzBdLCArX1sxXVsxXSlcbiAgICAgIDogaXNOYU4odGhpcy5feDApID8gdW5kZWZpbmVkIDogW1t0aGlzLl94MCwgdGhpcy5feTBdLCBbdGhpcy5feDEsIHRoaXMuX3kxXV07XG59XG4iLCJpbXBvcnQgUXVhZCBmcm9tIFwiLi9xdWFkLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgsIHksIHJhZGl1cykge1xuICB2YXIgZGF0YSxcbiAgICAgIHgwID0gdGhpcy5feDAsXG4gICAgICB5MCA9IHRoaXMuX3kwLFxuICAgICAgeDEsXG4gICAgICB5MSxcbiAgICAgIHgyLFxuICAgICAgeTIsXG4gICAgICB4MyA9IHRoaXMuX3gxLFxuICAgICAgeTMgPSB0aGlzLl95MSxcbiAgICAgIHF1YWRzID0gW10sXG4gICAgICBub2RlID0gdGhpcy5fcm9vdCxcbiAgICAgIHEsXG4gICAgICBpO1xuXG4gIGlmIChub2RlKSBxdWFkcy5wdXNoKG5ldyBRdWFkKG5vZGUsIHgwLCB5MCwgeDMsIHkzKSk7XG4gIGlmIChyYWRpdXMgPT0gbnVsbCkgcmFkaXVzID0gSW5maW5pdHk7XG4gIGVsc2Uge1xuICAgIHgwID0geCAtIHJhZGl1cywgeTAgPSB5IC0gcmFkaXVzO1xuICAgIHgzID0geCArIHJhZGl1cywgeTMgPSB5ICsgcmFkaXVzO1xuICAgIHJhZGl1cyAqPSByYWRpdXM7XG4gIH1cblxuICB3aGlsZSAocSA9IHF1YWRzLnBvcCgpKSB7XG5cbiAgICAvLyBTdG9wIHNlYXJjaGluZyBpZiB0aGlzIHF1YWRyYW50IGNhbuKAmXQgY29udGFpbiBhIGNsb3NlciBub2RlLlxuICAgIGlmICghKG5vZGUgPSBxLm5vZGUpXG4gICAgICAgIHx8ICh4MSA9IHEueDApID4geDNcbiAgICAgICAgfHwgKHkxID0gcS55MCkgPiB5M1xuICAgICAgICB8fCAoeDIgPSBxLngxKSA8IHgwXG4gICAgICAgIHx8ICh5MiA9IHEueTEpIDwgeTApIGNvbnRpbnVlO1xuXG4gICAgLy8gQmlzZWN0IHRoZSBjdXJyZW50IHF1YWRyYW50LlxuICAgIGlmIChub2RlLmxlbmd0aCkge1xuICAgICAgdmFyIHhtID0gKHgxICsgeDIpIC8gMixcbiAgICAgICAgICB5bSA9ICh5MSArIHkyKSAvIDI7XG5cbiAgICAgIHF1YWRzLnB1c2goXG4gICAgICAgIG5ldyBRdWFkKG5vZGVbM10sIHhtLCB5bSwgeDIsIHkyKSxcbiAgICAgICAgbmV3IFF1YWQobm9kZVsyXSwgeDEsIHltLCB4bSwgeTIpLFxuICAgICAgICBuZXcgUXVhZChub2RlWzFdLCB4bSwgeTEsIHgyLCB5bSksXG4gICAgICAgIG5ldyBRdWFkKG5vZGVbMF0sIHgxLCB5MSwgeG0sIHltKVxuICAgICAgKTtcblxuICAgICAgLy8gVmlzaXQgdGhlIGNsb3Nlc3QgcXVhZHJhbnQgZmlyc3QuXG4gICAgICBpZiAoaSA9ICh5ID49IHltKSA8PCAxIHwgKHggPj0geG0pKSB7XG4gICAgICAgIHEgPSBxdWFkc1txdWFkcy5sZW5ndGggLSAxXTtcbiAgICAgICAgcXVhZHNbcXVhZHMubGVuZ3RoIC0gMV0gPSBxdWFkc1txdWFkcy5sZW5ndGggLSAxIC0gaV07XG4gICAgICAgIHF1YWRzW3F1YWRzLmxlbmd0aCAtIDEgLSBpXSA9IHE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVmlzaXQgdGhpcyBwb2ludC4gKFZpc2l0aW5nIGNvaW5jaWRlbnQgcG9pbnRzIGlzbuKAmXQgbmVjZXNzYXJ5ISlcbiAgICBlbHNlIHtcbiAgICAgIHZhciBkeCA9IHggLSArdGhpcy5feC5jYWxsKG51bGwsIG5vZGUuZGF0YSksXG4gICAgICAgICAgZHkgPSB5IC0gK3RoaXMuX3kuY2FsbChudWxsLCBub2RlLmRhdGEpLFxuICAgICAgICAgIGQyID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICBpZiAoZDIgPCByYWRpdXMpIHtcbiAgICAgICAgdmFyIGQgPSBNYXRoLnNxcnQocmFkaXVzID0gZDIpO1xuICAgICAgICB4MCA9IHggLSBkLCB5MCA9IHkgLSBkO1xuICAgICAgICB4MyA9IHggKyBkLCB5MyA9IHkgKyBkO1xuICAgICAgICBkYXRhID0gbm9kZS5kYXRhO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZCkge1xuICBpZiAoaXNOYU4oeCA9ICt0aGlzLl94LmNhbGwobnVsbCwgZCkpIHx8IGlzTmFOKHkgPSArdGhpcy5feS5jYWxsKG51bGwsIGQpKSkgcmV0dXJuIHRoaXM7IC8vIGlnbm9yZSBpbnZhbGlkIHBvaW50c1xuXG4gIHZhciBwYXJlbnQsXG4gICAgICBub2RlID0gdGhpcy5fcm9vdCxcbiAgICAgIHJldGFpbmVyLFxuICAgICAgcHJldmlvdXMsXG4gICAgICBuZXh0LFxuICAgICAgeDAgPSB0aGlzLl94MCxcbiAgICAgIHkwID0gdGhpcy5feTAsXG4gICAgICB4MSA9IHRoaXMuX3gxLFxuICAgICAgeTEgPSB0aGlzLl95MSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgeG0sXG4gICAgICB5bSxcbiAgICAgIHJpZ2h0LFxuICAgICAgYm90dG9tLFxuICAgICAgaSxcbiAgICAgIGo7XG5cbiAgLy8gSWYgdGhlIHRyZWUgaXMgZW1wdHksIGluaXRpYWxpemUgdGhlIHJvb3QgYXMgYSBsZWFmLlxuICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gIC8vIEZpbmQgdGhlIGxlYWYgbm9kZSBmb3IgdGhlIHBvaW50LlxuICAvLyBXaGlsZSBkZXNjZW5kaW5nLCBhbHNvIHJldGFpbiB0aGUgZGVlcGVzdCBwYXJlbnQgd2l0aCBhIG5vbi1yZW1vdmVkIHNpYmxpbmcuXG4gIGlmIChub2RlLmxlbmd0aCkgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAocmlnaHQgPSB4ID49ICh4bSA9ICh4MCArIHgxKSAvIDIpKSB4MCA9IHhtOyBlbHNlIHgxID0geG07XG4gICAgaWYgKGJvdHRvbSA9IHkgPj0gKHltID0gKHkwICsgeTEpIC8gMikpIHkwID0geW07IGVsc2UgeTEgPSB5bTtcbiAgICBpZiAoIShwYXJlbnQgPSBub2RlLCBub2RlID0gbm9kZVtpID0gYm90dG9tIDw8IDEgfCByaWdodF0pKSByZXR1cm4gdGhpcztcbiAgICBpZiAoIW5vZGUubGVuZ3RoKSBicmVhaztcbiAgICBpZiAocGFyZW50WyhpICsgMSkgJiAzXSB8fCBwYXJlbnRbKGkgKyAyKSAmIDNdIHx8IHBhcmVudFsoaSArIDMpICYgM10pIHJldGFpbmVyID0gcGFyZW50LCBqID0gaTtcbiAgfVxuXG4gIC8vIEZpbmQgdGhlIHBvaW50IHRvIHJlbW92ZS5cbiAgd2hpbGUgKG5vZGUuZGF0YSAhPT0gZCkgaWYgKCEocHJldmlvdXMgPSBub2RlLCBub2RlID0gbm9kZS5uZXh0KSkgcmV0dXJuIHRoaXM7XG4gIGlmIChuZXh0ID0gbm9kZS5uZXh0KSBkZWxldGUgbm9kZS5uZXh0O1xuXG4gIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjb2luY2lkZW50IHBvaW50cywgcmVtb3ZlIGp1c3QgdGhlIHBvaW50LlxuICBpZiAocHJldmlvdXMpIHJldHVybiAobmV4dCA/IHByZXZpb3VzLm5leHQgPSBuZXh0IDogZGVsZXRlIHByZXZpb3VzLm5leHQpLCB0aGlzO1xuXG4gIC8vIElmIHRoaXMgaXMgdGhlIHJvb3QgcG9pbnQsIHJlbW92ZSBpdC5cbiAgaWYgKCFwYXJlbnQpIHJldHVybiB0aGlzLl9yb290ID0gbmV4dCwgdGhpcztcblxuICAvLyBSZW1vdmUgdGhpcyBsZWFmLlxuICBuZXh0ID8gcGFyZW50W2ldID0gbmV4dCA6IGRlbGV0ZSBwYXJlbnRbaV07XG5cbiAgLy8gSWYgdGhlIHBhcmVudCBub3cgY29udGFpbnMgZXhhY3RseSBvbmUgbGVhZiwgY29sbGFwc2Ugc3VwZXJmbHVvdXMgcGFyZW50cy5cbiAgaWYgKChub2RlID0gcGFyZW50WzBdIHx8IHBhcmVudFsxXSB8fCBwYXJlbnRbMl0gfHwgcGFyZW50WzNdKVxuICAgICAgJiYgbm9kZSA9PT0gKHBhcmVudFszXSB8fCBwYXJlbnRbMl0gfHwgcGFyZW50WzFdIHx8IHBhcmVudFswXSlcbiAgICAgICYmICFub2RlLmxlbmd0aCkge1xuICAgIGlmIChyZXRhaW5lcikgcmV0YWluZXJbal0gPSBub2RlO1xuICAgIGVsc2UgdGhpcy5fcm9vdCA9IG5vZGU7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFsbChkYXRhKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gZGF0YS5sZW5ndGg7IGkgPCBuOyArK2kpIHRoaXMucmVtb3ZlKGRhdGFbaV0pO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fcm9vdDtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgc2l6ZSA9IDA7XG4gIHRoaXMudmlzaXQoZnVuY3Rpb24obm9kZSkge1xuICAgIGlmICghbm9kZS5sZW5ndGgpIGRvICsrc2l6ZTsgd2hpbGUgKG5vZGUgPSBub2RlLm5leHQpXG4gIH0pO1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsImltcG9ydCBRdWFkIGZyb20gXCIuL3F1YWQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgdmFyIHF1YWRzID0gW10sIHEsIG5vZGUgPSB0aGlzLl9yb290LCBjaGlsZCwgeDAsIHkwLCB4MSwgeTE7XG4gIGlmIChub2RlKSBxdWFkcy5wdXNoKG5ldyBRdWFkKG5vZGUsIHRoaXMuX3gwLCB0aGlzLl95MCwgdGhpcy5feDEsIHRoaXMuX3kxKSk7XG4gIHdoaWxlIChxID0gcXVhZHMucG9wKCkpIHtcbiAgICBpZiAoIWNhbGxiYWNrKG5vZGUgPSBxLm5vZGUsIHgwID0gcS54MCwgeTAgPSBxLnkwLCB4MSA9IHEueDEsIHkxID0gcS55MSkgJiYgbm9kZS5sZW5ndGgpIHtcbiAgICAgIHZhciB4bSA9ICh4MCArIHgxKSAvIDIsIHltID0gKHkwICsgeTEpIC8gMjtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbM10pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHhtLCB5bSwgeDEsIHkxKSk7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzJdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4MCwgeW0sIHhtLCB5MSkpO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVsxXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeG0sIHkwLCB4MSwgeW0pKTtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbMF0pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHgwLCB5MCwgeG0sIHltKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufVxuIiwiaW1wb3J0IFF1YWQgZnJvbSBcIi4vcXVhZC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaykge1xuICB2YXIgcXVhZHMgPSBbXSwgbmV4dCA9IFtdLCBxO1xuICBpZiAodGhpcy5fcm9vdCkgcXVhZHMucHVzaChuZXcgUXVhZCh0aGlzLl9yb290LCB0aGlzLl94MCwgdGhpcy5feTAsIHRoaXMuX3gxLCB0aGlzLl95MSkpO1xuICB3aGlsZSAocSA9IHF1YWRzLnBvcCgpKSB7XG4gICAgdmFyIG5vZGUgPSBxLm5vZGU7XG4gICAgaWYgKG5vZGUubGVuZ3RoKSB7XG4gICAgICB2YXIgY2hpbGQsIHgwID0gcS54MCwgeTAgPSBxLnkwLCB4MSA9IHEueDEsIHkxID0gcS55MSwgeG0gPSAoeDAgKyB4MSkgLyAyLCB5bSA9ICh5MCArIHkxKSAvIDI7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzBdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4MCwgeTAsIHhtLCB5bSkpO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVsxXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeG0sIHkwLCB4MSwgeW0pKTtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbMl0pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHgwLCB5bSwgeG0sIHkxKSk7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzNdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4bSwgeW0sIHgxLCB5MSkpO1xuICAgIH1cbiAgICBuZXh0LnB1c2gocSk7XG4gIH1cbiAgd2hpbGUgKHEgPSBuZXh0LnBvcCgpKSB7XG4gICAgY2FsbGJhY2socS5ub2RlLCBxLngwLCBxLnkwLCBxLngxLCBxLnkxKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cbiIsImltcG9ydCB7IHF1YWR0cmVlIH0gZnJvbSBcImQzLXF1YWR0cmVlXCI7XG5cbi8vIFNldCB1cCBmdWxsc2NyZWVuIGNhbnZhc1xudmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xudmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbmNsYXNzIE5vZGUge1xuICBjb25zdHJ1Y3Rvcih4LCB5LCBwYXJlbnQgPSBudWxsKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICBjdHgubW92ZVRvKHRoaXMucGFyZW50LngsIHRoaXMucGFyZW50LnkpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDAuNTtcbiAgICAgIGN0eC5saW5lVG8odGhpcy54LCB0aGlzLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55LCAyLCAwLCAyICogTWF0aC5QSSk7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxufVxuXG5jbGFzcyBSUlQge1xuICBjb25zdHJ1Y3RvcihzdGFydE5vZGVQb3MsIGdvYWxOb2RlUG9zLCB2YWxpZEFyZWEsIG1heEVkZ2VMZW5ndGgpIHtcbiAgICAvLyBJbml0aWFsaXplIHF1YWRUcmVlIHVzZWQgdG8gZmluZCBuZWFyZXN0IG5vZGUgdG8gYSBzYW1wbGluZyBsb2NhdGlvblxuICAgIHRoaXMucXVhZFRyZWUgPSBxdWFkdHJlZSgpO1xuICAgIC8vIFNldCB4IGFuZCB5IGFjY2Vzc29ycyBmb3IgTm9kZSBkYXRhIHR5cGVcbiAgICB0aGlzLnF1YWRUcmVlID0gdGhpcy5xdWFkVHJlZS54KG5vZGUgPT4gbm9kZS54KTtcbiAgICB0aGlzLnF1YWRUcmVlID0gdGhpcy5xdWFkVHJlZS55KG5vZGUgPT4gbm9kZS55KTtcbiAgICAvLyBUZWxsIHF1YWR0cmVlIHRvIGNvdmVyIHJlY3RhbmdsZSBmcm9tICgwLCAwKSB0byAoY2FudmFzIHdpZHRoLCBjYW52YXMgaGVpZ2h0KVxuICAgIHRoaXMucXVhZFRyZWUuZXh0ZW50KFswLCAwXSwgdmFsaWRBcmVhKTtcblxuICAgIHRoaXMudmFsaWRBcmVhID0gdmFsaWRBcmVhO1xuICAgIHRoaXMubWF4RWRnZUxlbmd0aCA9IG1heEVkZ2VMZW5ndGg7XG5cbiAgICAvLyBDcmVhdGUgYW5kIGFkZCBzdGFydCBhbmQgZ29hbCBub2RlcyB0byB0cmVlXG4gICAgdGhpcy5zdGFydE5vZGUgPSBuZXcgTm9kZShzdGFydE5vZGVQb3NbMF0sIHN0YXJ0Tm9kZVBvc1sxXSk7XG4gICAgdGhpcy5nb2FsTm9kZSA9IG5ldyBOb2RlKGdvYWxOb2RlUG9zWzBdLCBnb2FsTm9kZVBvc1sxXSk7XG4gICAgdGhpcy5ub2RlcyA9IFt0aGlzLnN0YXJ0Tm9kZSwgdGhpcy5nb2FsTm9kZV07XG4gICAgdGhpcy5xdWFkVHJlZS5hZGRBbGwoW3RoaXMuc3RhcnROb2RlLCB0aGlzLmdvYWxOb2RlXSk7XG4gICAgdGhpcy5kaXJ0eU5vZGVzID0gW3RoaXMuc3RhcnROb2RlLCB0aGlzLmdvYWxOb2RlXTtcbiAgfVxuXG4gIHNhbXBsZUxvY2F0aW9uKCkge1xuICAgIC8vIEdvYWwtYmlhc2VkIHNhbXBsaW5nICgxMCUgcHJvYiBvZiBjaG9vc2luZyBnb2FsIG5vZGUgYXMgc2FtcGxpbmcgbG9jYXRpb24pXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjEpIHtcbiAgICAgIHJldHVybiBbdGhpcy5nb2FsTm9kZS54LCB0aGlzLmdvYWxOb2RlLnldO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICB0aGlzLnZhbGlkQXJlYVswXSAqICgwLjk4ICogTWF0aC5yYW5kb20oKSArIDAuMDEpLFxuICAgICAgdGhpcy52YWxpZEFyZWFbMV0gKiAoMC45OCAqIE1hdGgucmFuZG9tKCkgKyAwLjAxKVxuICAgIF07XG4gIH1cblxuICAvLyBDcmVhdGVzIGEgbm9kZSBhdCAoeCwgeSkgd2l0aCB0aGUgbmVhcmVzdCBub2RlIGFzIGl0cyBwYXJlbnRcbiAgZXh0ZW5kKHgsIHkpIHtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5xdWFkVHJlZS5maW5kKHgsIHkpO1xuXG4gICAgLy8gTGltaXQgbWF4aW11bSBlZGdlIGxlbmd0aCB3aGlsZSBrZWVwaW5nIHNhbWUgaGVhZGluZ1xuICAgIGNvbnN0IGRpc3RUb05lYXJlc3ROb2RlID0gTWF0aC5zcXJ0KFxuICAgICAgTWF0aC5wb3coeCAtIHBhcmVudC54LCAyKSArIE1hdGgucG93KHkgLSBwYXJlbnQueSwgMilcbiAgICApO1xuXG4gICAgaWYgKGRpc3RUb05lYXJlc3ROb2RlIDwgMC4wMSkge1xuICAgICAgeCA9IHBhcmVudC54O1xuICAgICAgeSA9IHBhcmVudC55O1xuXG4gICAgICAvLyBMaXR0bGUgaGFjayB0byBmaW5kIHNlY29uZCBjbG9zZXN0IG5vZGUgYW5kIGFzc2lnbiB0byBwYXJlbnRcbiAgICAgIGNvbnN0IG9sZFBhcmVudCA9IHBhcmVudDtcbiAgICAgIHRoaXMucXVhZFRyZWUucmVtb3ZlKG9sZFBhcmVudCk7XG4gICAgICBwYXJlbnQgPSB0aGlzLnF1YWRUcmVlLmZpbmQoeCwgeSk7XG4gICAgICB0aGlzLnF1YWRUcmVlLmFkZChvbGRQYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChkaXN0VG9OZWFyZXN0Tm9kZSA+IHRoaXMubWF4RWRnZUxlbmd0aCkge1xuICAgICAgeCA9IHBhcmVudC54ICsgKHRoaXMubWF4RWRnZUxlbmd0aCAvIGRpc3RUb05lYXJlc3ROb2RlKSAqICh4IC0gcGFyZW50LngpO1xuICAgICAgeSA9IHBhcmVudC55ICsgKHRoaXMubWF4RWRnZUxlbmd0aCAvIGRpc3RUb05lYXJlc3ROb2RlKSAqICh5IC0gcGFyZW50LnkpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBuZXdOb2RlIGFuZCBhZGQgdG8gdHJlZVxuICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgTm9kZSh4LCB5LCBwYXJlbnQpO1xuICAgIHRoaXMubm9kZXMucHVzaChuZXdOb2RlKTtcbiAgICB0aGlzLnF1YWRUcmVlLmFkZChuZXdOb2RlKTtcbiAgICB0aGlzLmRpcnR5Tm9kZXMucHVzaChuZXdOb2RlKTtcblxuICAgIHJldHVybiBuZXdOb2RlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kaXJ0eU5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRpcnR5Tm9kZXNbaV0ucmVuZGVyKCk7XG4gICAgfVxuICAgIHRoaXMuZGlydHlOb2RlcyA9IFtdO1xuICB9XG59XG5cbmNvbnN0IHVwZGF0ZSA9IHdvcmxkID0+IHtcbiAgY29uc3QgcnJ0ID0gd29ybGQucnJ0O1xuXG4gIGNvbnN0IFt4LCB5XSA9IHJydC5zYW1wbGVMb2NhdGlvbigpO1xuICBycnQuZXh0ZW5kKHgsIHkpO1xuXG4gIHdvcmxkLm51bU5vZGVzICs9IDE7XG59O1xuXG5jb25zdCByZW5kZXIgPSB3b3JsZCA9PiB7XG4gIHdvcmxkLnJydC5yZW5kZXIoKTtcbn07XG5cbmNvbnN0IHN0ZXAgPSB3b3JsZCA9PiB7XG4gIGlmICh3b3JsZC5udW1Ob2RlcyA8IDEwMDApIHtcbiAgICB1cGRhdGUod29ybGQpO1xuICAgIHJlbmRlcih3b3JsZCk7XG4gIH1cbn07XG5cbmNvbnN0IGdvID0gKCkgPT4ge1xuICBjb25zdCBbc3RhcnRYLCBzdGFydFldID0gWzUwLCBjdHguY2FudmFzLmhlaWdodCAtIDEwMF07XG4gIGNvbnN0IFtnb2FsWCwgZ29hbFldID0gW2N0eC5jYW52YXMud2lkdGggLSA1MCwgMTAwXTtcblxuICBjb25zdCBycnQgPSBuZXcgUlJUKFxuICAgIFtzdGFydFgsIHN0YXJ0WV0sXG4gICAgW2dvYWxYLCBnb2FsWV0sXG4gICAgW2N0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0XSxcbiAgICAxMDBcbiAgKTtcblxuICBjb25zdCB3b3JsZCA9IHtcbiAgICBycnQ6IHJydCxcbiAgICBudW1Ob2RlczogMFxuICB9O1xuXG4gIGN0eC5maWxsU3R5bGUgPSBcIiNmNmY4ZjlcIjtcbiAgY3R4LmZpbGxSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcblxuICAvLyBEcmF3IHN0YXJ0IGFuZCBnb2FsIHJlZ2lvbnNcbiAgY3R4LmZvbnQgPSBcIjIwcHggQXJpYWxcIjtcblxuICBjdHguZmlsbFN0eWxlID0gXCJyZWRcIjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKHN0YXJ0WCwgc3RhcnRZLCAxMCwgMCwgMiAqIE1hdGguUEkpO1xuICBjdHguZmlsbCgpO1xuICBjdHguZmlsbFRleHQoXCJTdGFydFwiLCBzdGFydFggLSAyMCwgc3RhcnRZICsgMzApO1xuXG4gIGN0eC5maWxsU3R5bGUgPSBcImdyZWVuXCI7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyhnb2FsWCwgZ29hbFksIDEwLCAwLCAyICogTWF0aC5QSSk7XG4gIGN0eC5maWxsKCk7XG4gIGN0eC5maWxsVGV4dChcIkdvYWxcIiwgZ29hbFggLSAyMCwgZ29hbFkgLSAxOCk7XG5cbiAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcblxuICAvLyBCZWdpbiBycnQgYWxnbyArIGFuaW1hdGlvblxuICB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gc3RlcCh3b3JsZCksIDMwKTtcbn07XG5cbmdvKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9